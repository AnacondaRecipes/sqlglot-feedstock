{% set name = "sqlglot" %}
{% set version = "11.5.7" %}


package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/sqlglot-{{ version }}.tar.gz
  sha256: 90f3e159ea16fe479aba2670f5bdb1c84756577d7e4f6230117dac13a4869033

build:
  skip: true  # [py<30]
  number: 0
  script: {{ PYTHON }} -m pip install . --no-deps --no-build-isolation --ignore-installed -vvv

requirements:
  host:
    - pip
    - python
    - setuptools
    - wheel
  run:
    - python

test:
  imports:
    - sqlglot
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/tobymao/sqlglot
  summary: An easily customizable SQL parser and transpiler
  description: |
    SQLGlot is a no-dependency SQL parser, transpiler, optimizer, and engine. It can be used 
    to format SQL or translate between 19 different dialects like DuckDB, Presto, Spark, 
    Snowflake, and BigQuery. It aims to read a wide variety of SQL inputs and output 
    syntactically correct SQL in the targeted dialects.
  license: MIT
  license_family: MIT
  license_file: LICENSE
  dev_url: https://github.com/tobymao/sqlglot
  doc_url: https://github.com/tobymao/sqlglot/blob/main/README.md

extra:
  recipe-maintainers:
    - tobymao
    - thewchan
